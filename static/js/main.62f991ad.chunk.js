(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{43:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},69:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(8),c=n.n(o),i=n(10),l=n(4),s=n(5),u=n(7),h=n(6),d=n(19),m=n.n(d).a.create({baseURL:"https://pixabay.com/api",params:{key:"21268272-c5791a68db62a23d91af73a0c",image_type:"photo",orientation:"horizontal",per_page:12}}),b=function(t){var e=new URLSearchParams(t).toString();return m.get("?".concat(e)).then((function(t){return t.data.hits}))},p=(n(43),n(0));var j=function(t){var e=t.children;return Object(p.jsx)("header",{className:"Searchbar",children:e})},g=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.children;return Object(p.jsx)(j,{children:t})}}]),n}(a.Component);n(45);var f=function(t){var e=t.value,n=t.onChange,a=t.onSubmit;return Object(p.jsxs)("form",{className:"SearchForm",onSubmit:a,children:[Object(p.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(p.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(p.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:n})]})},v=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={inputValue:""},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.inputValue),t.setState({inputValue:""})},t.onChange=function(e){var n=e.target.value;t.setState({inputValue:n})},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)(f,{value:this.state.inputValue,onChange:this.onChange,onSubmit:this.handleSubmit})}}]),n}(a.Component);n(46);var O=function(t){var e=t.images,n=t.onClick;return e.map((function(t){return Object(p.jsx)("li",{className:"ImageGalleryItem",children:Object(p.jsx)("img",{src:t.webformatURL,alt:t.type,className:"ImageGalleryItem-image",onClick:n,data:t.largeImageURL})},t.id)}))};n(47);var y=function(t){var e=t.images,n=t.onClick;return Object(p.jsx)("ul",{className:"ImageGallery",children:Object(p.jsx)(O,{images:e,onClick:n})})},k=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).onImageClick=function(e){if(e.target===e.currentTarget){var n=e.target.attributes.data.nodeValue,a=e.target.attributes.alt.nodeValue;t.props.onClick(),t.props.returnImg(n,a)}},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)(y,{images:this.props.images,onClick:this.onImageClick})}}]),n}(a.Component);n(48);var S=function(t){var e=t.onClick;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{onClick:e,className:"Button",type:"button",children:"load more"})})},C=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={scrollHeight:""},t.onButtonClick=function(){t.props.onClick(),t.setState({scrollHeight:document.body.clientHeight})},t.onScroll=function(){window.scrollTo({top:t.state.scrollHeight,behavior:"smooth"})},t}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t,e){this.onScroll()}},{key:"render",value:function(){return Object(p.jsx)(S,{onClick:this.onButtonClick})}}]),n}(a.Component),x=n(20),w=n.n(x),I=(n(69),document.querySelector("#modal-root")),M=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){e.currentTarget===e.target&&t.props.onClose()},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(p.jsx)("div",{className:"Overlay",onClick:this.handleBackdropClick,children:Object(p.jsx)("div",{className:"Modal",children:this.props.children})}),I)}}]),n}(a.Component),N=(n(70),n(71),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={images:[],query:"",page:1,showModal:!1,isLoading:!1,error:null,modalImg:"",modalAlt:""},t.onSubmit=function(e){t.setState((function(t){return{query:e,page:1,images:[],error:null}}))},t.onSubmitHandler=function(){var e=t.state,n={q:e.query,page:e.page};t.setState({isLoading:!0}),b(n).then((function(e){t.setState((function(t){return{images:[].concat(Object(i.a)(t.images),Object(i.a)(e)),page:t.page+1}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}))},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.getModalImg=function(e,n){t.setState((function(){return{modalImg:e,modalAlt:n}}))},t}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.query!==this.state.query&&this.onSubmitHandler()}},{key:"render",value:function(){var t=this.state,e=t.showModal,n=t.images,a=t.isLoading;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(g,{children:Object(p.jsx)(v,{onSubmit:this.onSubmit})}),n.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{images:n,onClick:this.toggleModal,returnImg:this.getModalImg}),Object(p.jsx)(C,{onClick:this.onSubmitHandler})]}):null,a&&Object(p.jsx)(w.a,{type:"Bars",color:"#00BFFF",height:80,width:80}),e&&Object(p.jsx)(M,{onClose:this.toggleModal,children:Object(p.jsx)("img",{src:this.state.modalImg,alt:this.state.alt})})]})}}]),n}(a.Component));c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.62f991ad.chunk.js.map