{"version":3,"sources":["utils/API.js","component/Header/Header.js","containers/Header.js","component/SearchForm/SerchForm.js","containers/SearchForm.js","component/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","component/ImageGallery/ImageGallery.js","containers/ImageGallery.js","component/Button/Button.js","containers/Button.js","component/Modal/Modal.js","App.js","index.js"],"names":["instance","axios","create","baseURL","params","key","image_type","orientation","per_page","getArr","param","urlParams","URLSearchParams","toString","get","then","res","data","hits","HeaderView","children","className","Header","this","props","Component","SearchFormView","value","onChange","onSubmit","type","autoComplete","autoFocus","placeholder","SearchForm","state","inputValue","handleSubmit","e","preventDefault","setState","target","ImageGalleryItem","images","onClick","map","img","src","webformatURL","alt","largeImageURL","id","ImageGallery","onImageClick","currentTarget","attributes","nodeValue","returnImg","Button","scrollHeight","onButtonClick","document","body","clientHeight","onScroll","window","scrollTo","top","behavior","prevProps","prevState","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","addEventListener","removeEventListener","createPortal","App","query","page","showModal","isLoading","error","modalImg","modalAlt","prev","onSubmitHandler","urlBase","q","catch","finally","toggleModal","getModalImg","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.62f991ad.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst key = '21268272-c5791a68db62a23d91af73a0c'\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://pixabay.com/api`,\r\n    params: {\r\n        key,\r\n        image_type: 'photo',\r\n        orientation: 'horizontal',\r\n        per_page: 12\r\n    }\r\n});\r\n\r\nconst getArr = (param) => {\r\n    const urlParams = new URLSearchParams(param).toString();\r\n    return instance.get(`?${urlParams}`).then(res => res.data.hits)\r\n}\r\n\r\nexport default getArr","import React from 'react';\r\nimport './index.css';\r\n\r\nfunction HeaderView({children}) {\r\n    return (\r\n            <header className=\"Searchbar\">\r\n                {children}\r\n            </header>\r\n         );\r\n}\r\n \r\nexport default HeaderView;","import React, { Component } from 'react';\r\nimport HeaderView from '../component/Header';\r\n\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        const children = this.props.children;\r\n        return (\r\n        <HeaderView>\r\n            {children}\r\n        </HeaderView>\r\n    );\r\n    }\r\n}\r\n\r\nexport default Header;","import './index.css';\r\n\r\nfunction SearchFormView({value, onChange, onSubmit}) {\r\n    return (\r\n        <form className=\"SearchForm\"\r\n            onSubmit={onSubmit}\r\n            >\r\n                <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={value}\r\n                    onChange={onChange}\r\n                />\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SearchFormView","import React, { Component } from 'react';\r\nimport SearchFormView from '../component/SearchForm';\r\n\r\nclass SearchForm extends Component {\r\n    state = {\r\n        inputValue: '',\r\n    }\r\n    \r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        this.props.onSubmit(this.state.inputValue);\r\n\r\n        this.setState({\r\n            inputValue: ''\r\n        })\r\n    }\r\n\r\n    onChange = (e) => {\r\n        const value = e.target.value;\r\n        this.setState({\r\n          inputValue: value,  \r\n        })\r\n    }\r\n    render() { \r\n        return (\r\n            <SearchFormView\r\n                value={this.state.inputValue}\r\n                onChange={this.onChange}\r\n                onSubmit={this.handleSubmit} />\r\n         );\r\n    }\r\n}\r\n \r\nexport default SearchForm;","import './index.css';\r\n\r\nfunction ImageGalleryItem({images, onClick}) {\r\n    return (\r\n        images.map(img => (\r\n            <li\r\n                key={img.id}\r\n                className=\"ImageGalleryItem\"\r\n                >\r\n                <img src={img.webformatURL}\r\n                    alt={img.type}\r\n                    className=\"ImageGalleryItem-image\"\r\n                    onClick={onClick}\r\n                    data={img.largeImageURL}/>\r\n            </li>\r\n        ))\r\n    );\r\n}\r\n \r\nexport default ImageGalleryItem;","import ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport './index.css';\r\n\r\nfunction ImageGallery({ images, onClick }) {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n                <ImageGalleryItem\r\n                images={images}\r\n                onClick={onClick}\r\n                />\r\n        </ul>\r\n        );\r\n}\r\n \r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport ImageGalleryView from '../component/ImageGallery'\r\n\r\nclass ImageGallery extends Component {\r\n    onImageClick = (e) => {\r\n        \r\n        if (e.target === e.currentTarget) {\r\n            const img = e.target.attributes.data.nodeValue\r\n            const alt = e.target.attributes.alt.nodeValue\r\n            this.props.onClick()\r\n            this.props.returnImg(img, alt)\r\n        }\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <ImageGalleryView\r\n                images={this.props.images}\r\n                onClick={this.onImageClick}/>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ImageGallery;","import React from 'react';\r\nimport './index.css';\r\n\r\nfunction Button({onClick}) {\r\n    return (\r\n        <>\r\n            <button\r\n                onClick={onClick}\r\n                className=\"Button\"\r\n                type=\"button\">load more</button>\r\n        </>\r\n    );\r\n}\r\n \r\nexport default Button;","import React, { Component } from 'react';\r\nimport ButtonView from '../component/Button'\r\n\r\nclass Button extends Component {\r\n    state = {\r\n        scrollHeight: ''\r\n    }\r\n    onButtonClick = () => {\r\n        this.props.onClick();\r\n        this.setState({ scrollHeight: document.body.clientHeight });\r\n    }\r\n    \r\n    componentDidUpdate(prevProps, prevState) {\r\n        this.onScroll();\r\n    }\r\n\r\n    onScroll = () => {\r\n        window.scrollTo({\r\n            top: this.state.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <ButtonView\r\n                onClick={this.onButtonClick}\r\n            />\r\n         );\r\n    }\r\n}\r\n \r\nexport default Button;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport './index.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n   \r\n    componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n    componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n    \r\n    render() { \r\n        return createPortal(\r\n            <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n                <div className=\"Modal\">\r\n                    {this.props.children}\r\n                </div>\r\n            </div>,\r\n            modalRoot\r\n         );\r\n    }\r\n}\r\n \r\nexport default Modal;","import React, { Component } from 'react';\nimport getArr from './utils/API';\nimport Header from './containers/Header';\nimport SearchForm from './containers/SearchForm';\nimport ImageGallery from './containers/ImageGallery';\nimport Button from \"./containers/Button\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from './component/Modal';\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n//https://pixabay.com/api/?key=21268272-c5791a68db62a23d91af73a0c&q=yellow+flowers&page=1&image_type=photo&orientation=horizontal&per_page=12\n\nimport './assets/styles/App.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n    page: 1,\n    showModal: false,\n    isLoading: false,\n    error: null,\n    modalImg: '',\n    modalAlt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.onSubmitHandler()\n    }\n  }\n  onSubmit = (data) => {\n    this.setState((prev) => ({\n      query: data,\n      page: 1,\n      images: [],\n      error: null\n    }))\n  }\n  \n  onSubmitHandler = () => {\n    const { query, page } = this.state;\n\n      const urlBase = {\n        q: query,\n        page: page\n      };\n    \n    this.setState({ isLoading: true });\n    \n    getArr(urlBase)\n      .then(res => {\n            this.setState((prev) => ({\n              images: [...prev.images, ...res],\n              page: prev.page + 1,\n            }))\n      }).catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  getModalImg = (img, alt) => {\n    this.setState(() => ({\n      modalImg: img,\n      modalAlt: alt,\n    }))\n  }\n  \n  render() {\n    const { showModal, images, isLoading } = this.state;\n\n    return (\n      <div className=\"App\">\n\n        <Header>\n          <SearchForm onSubmit={this.onSubmit} />\n        </Header>\n\n        {images.length > 0\n          ? <>\n            <ImageGallery\n              images={images}\n              onClick={this.toggleModal}\n              returnImg={this.getModalImg}\n            />\n              <Button onClick={this.onSubmitHandler} />\n          </> : null}\n        \n        {isLoading && <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />}\n\n        {showModal && <Modal onClose={this.toggleModal}>\n          <img src={this.state.modalImg} alt={this.state.alt}/>\n          </Modal>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}